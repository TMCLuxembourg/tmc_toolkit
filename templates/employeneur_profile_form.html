{% extends "_base.html" %}
{% block title %}
  Employeneur Profile Form
{% endblock title %}
{% block body %}
  <div class="container"
       x-data="{ highlights: [], education: [], courses: [], work_experience: [], expertise: [], languages: [] }">
    <h1 class="text-center mb-4">Employeneur Profile Form</h1>
    <form method="post" enctype="multipart/form-data">
      {#
        Personal Information
      #}
      <div class="section">
        <h2>Personal Information</h2>
        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">First Name</label>
            <input type="text" class="form-control" name="first_name">
          </div>
          <div class="col-md-6">
            <label class="form-label">Surname</label>
            <input type="text" class="form-control" name="surname">
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">Function</label>
            <input type="text" class="form-control" name="function">
          </div>
          <div class="col-md-6">
            <label class="form-label">Date of Birth</label>
            <input type="date" class="form-control" name="date_of_birth">
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-4">
            <label class="form-label">City</label>
            <input type="text" class="form-control" name="city">
          </div>
          <div class="col-md-4">
            <label class="form-label">Nationality</label>
            <input type="text" class="form-control" name="nationality">
          </div>
          <div class="col-md-4">
            <label class="form-label">Availability</label>
            <input type="date" class="form-control" name="availability">
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-md-6">
            <label class="form-label">Driver's License</label>
            <select class="form-select" name="drivers_license">
              <option value="">Select</option>
              <option value="Yes">Yes</option>
              <option value="No">No</option>
            </select>
          </div>
          <div class="col-md-6">
            <label class="form-label">Profile Picture</label>
            <input type="file" class="form-control" name="profile_pic">
          </div>
        </div>
        <div class="mb-3">
          <label class="form-label">Profile and Ambition</label>
          <textarea class="form-control" rows="4" name="profile_and_ambition"></textarea>
        </div>
      </div>
      {#
        Highlights
      #}
      <div class="section">
        <h2>Highlights</h2>
        <template x-for="(highlight, index) in highlights" :key="index">
          <div class="highlight-item mb-3">
            <div class="input-group">
              <input type="text" class="form-control" :name="'highlights[' + index + ']'">
              <button type="button"
                      class="btn btn-outline-danger"
                      @click="highlights.splice(index, 1)">Remove</button>
            </div>
          </div>
        </template>
        <button type="button"
                class="btn btn-primary btn-add"
                @click="highlights.push({})">Add Highlight</button>
      </div>
      {#
        Education
      #}
      <div class="section">
        <h2>Education</h2>
        <template x-for="(edu, index) in education" :key="index">
          <div class="education-item card">
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-6">
                  <label class="form-label">Period</label>
                  <input type="text"
                         class="form-control"
                         :name="'education[' + index + '][period]'">
                </div>
                <div class="col-md-6">
                  <label class="form-label">Name Education</label>
                  <input type="text"
                         class="form-control"
                         :name="'education[' + index + '][name_education]'">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-6">
                  <label class="form-label">Name School</label>
                  <input type="text"
                         class="form-control"
                         :name="'education[' + index + '][name_school]'">
                </div>
                <div class="col-md-6">
                  <label class="form-label">Status</label>
                  <select class="form-select" :name="'education[' + index + '][status]'">
                    <option value="">Select Status</option>
                    <option value="Ongoing">Ongoing</option>
                    <option value="Completed">Completed</option>
                  </select>
                </div>
              </div>
              <button type="button"
                      class="btn btn-outline-danger remove-btn"
                      @click="education.splice(index, 1)">Remove</button>
            </div>
          </div>
        </template>
        <button type="button"
                class="btn btn-primary btn-add"
                @click="education.push({})">Add Education</button>
      </div>
      {#
        Courses
      #}
      <div class="section">
        <h2>Courses</h2>
        <template x-for="(course, index) in courses" :key="index">
          <div class="course-item card">
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-6">
                  <label class="form-label">Period</label>
                  <input type="text"
                         class="form-control"
                         :name="'courses[' + index + '][period]'">
                </div>
                <div class="col-md-6">
                  <label class="form-label">Name Education</label>
                  <input type="text"
                         class="form-control"
                         :name="'courses[' + index + '][name_education]'">
                </div>
              </div>
              <div class="row mb-3">
                <div class="col-md-6">
                  <label class="form-label">Name School</label>
                  <input type="text"
                         class="form-control"
                         :name="'courses[' + index + '][name_school]'">
                </div>
                <div class="col-md-6">
                  <label class="form-label">Status</label>
                  <select class="form-select" :name="'courses[' + index + '][status]'">
                    <option value="">Select Status</option>
                    <option value="Ongoing">Ongoing</option>
                    <option value="Completed">Completed</option>
                  </select>
                </div>
              </div>
              <button type="button"
                      class="btn btn-outline-danger remove-btn"
                      @click="courses.splice(index, 1)">Remove</button>
            </div>
          </div>
        </template>
        <button type="button"
                class="btn btn-primary btn-add"
                @click="courses.push({})">Add Course</button>
      </div>
      {#
        Work Experience
      #}
      <div class="section">
        <h2>Work Experience</h2>
        <template x-for="(exp, expIndex) in work_experience" :key="expIndex">
          <div class="work-experience-item card">
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-4">
                  <label class="form-label">Period</label>
                  <input type="text"
                         class="form-control"
                         :name="'work_experience[' + expIndex + '][period]'">
                </div>
                <div class="col-md-4">
                  <label class="form-label">Function Name</label>
                  <input type="text"
                         class="form-control"
                         :name="'work_experience[' + expIndex + '][function_name]'">
                </div>
                <div class="col-md-4">
                  <label class="form-label">Name Employer/Client</label>
                  <input type="text"
                         class="form-control"
                         :name="'work_experience[' + expIndex + '][name_employer_client]'">
                </div>
              </div>
              <h4>Bullet Points</h4>
              <template x-for="(point, pointIndex) in exp.bullet_points" :key="pointIndex">
                <div class="bullet-point-item mb-3">
                  <div class="input-group">
                    <input type="text"
                           class="form-control"
                           :name="'work_experience[' + expIndex + '][bullet_points][' + pointIndex + ']'">
                    <button type="button"
                            class="btn btn-outline-danger"
                            @click="exp.bullet_points.splice(pointIndex, 1)">Remove</button>
                  </div>
                </div>
              </template>
              <button type="button"
                      class="btn btn-secondary mb-3"
                      @click="exp.bullet_points.push({ text: '' })">Add Bullet Point</button>
              <div class="mb-3">
                <label class="form-label">Tools/Technologies Used</label>
                <textarea class="form-control"
                          rows="3"
                          :name="'work_experience[' + expIndex + '][tools_tech_used]'"
                          placeholder="List the tools/technologies used in this role"></textarea>
              </div>
              <button type="button"
                      class="btn btn-outline-danger remove-btn"
                      @click="work_experience.splice(expIndex, 1)">Remove Work Experience</button>
            </div>
          </div>
        </template>
        <button type="button"
                class="btn btn-primary btn-add"
                @click="work_experience.push({ bullet_points: [{},{},{}] })">Add Work Experience</button>
      </div>
      {#
        Expertise Sections
      #}
      <div class="section">
        <h2>Expertise Sections</h2>
        <template x-for="(section, sectionIndex) in expertise" :key="sectionIndex">
          <div class="expertise-section card">
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-10">
                  <input type="text"
                         class="form-control section-title"
                         :name="'expertise[' + sectionIndex + '][category]'"
                         placeholder="Section Title (e.g., Programming, Languages)">
                </div>
                <div class="col-md-2">
                  <button type="button"
                          class="btn btn-outline-danger remove-btn"
                          @click="expertise.splice(sectionIndex, 1)">Remove Section</button>
                </div>
              </div>
              <template x-for="(item, itemIndex) in section.items" :key="itemIndex">
                <div class="expertise-item row mb-3">
                  <div class="col-md-7">
                    <input type="text"
                           class="form-control"
                           :name="'expertise[' + sectionIndex + '][list][' + itemIndex + '][name]'"
                           placeholder="Expertise (e.g., Python, English)">
                  </div>
                  <div class="col-md-3">
                    <select class="form-select"
                            :name="'expertise[' + sectionIndex + '][list][' + itemIndex + '][level]'">
                      <option value="">Select Level</option>
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                    </select>
                  </div>
                  <div class="col-md-2">
                    <button type="button"
                            class="btn btn-outline-danger remove-btn"
                            @click="section.items.splice(itemIndex, 1)">Remove</button>
                  </div>
                </div>
              </template>
              <button type="button"
                      class="btn btn-secondary"
                      @click="section.items.push({})">Add Expertise</button>
            </div>
          </div>
        </template>
        <button type="button"
                class="btn btn-primary btn-add"
                @click="expertise.push({ items: [{},{}] })">Add Expertise Section</button>
      </div>
      {#
        Languages Sections
      #}
      <div class="section">
        <h2>Languages</h2>
        <template x-for="(language, languageIndex) in languages" :key="languageIndex">
          <div class="language-item card">
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-7">
                  <input type="text"
                         class="form-control"
                         :name="'languages[' + languageIndex + '][name]'"
                         placeholder="Language (e.g., English, Spanish)">
                </div>
                <div class="col-md-3">
                  <select class="form-select"
                          :name="'languages[' + languageIndex + '][proficiency]'">
                    <option value="">Select Proficiency</option>
                    <option value="Beginner">Beginner</option>
                    <option value="Intermediate">Intermediate</option>
                    <option value="Advanced">Advanced</option>
                    <option value="Fluent">Fluent</option>
                    <option value="Native">Native</option>
                  </select>
                </div>
                <div class="col-md-2">
                  <button type="button"
                          class="btn btn-outline-danger remove-btn"
                          @click="languages.splice(languageIndex, 1)">Remove</button>
                </div>
              </div>
            </div>
          </div>
        </template>
        <button type="button"
                class="btn btn-primary btn-add"
                @click="languages.push({})">Add Language</button>
      </div>
      <button type="submit" class="btn btn-success btn-lg w-100">Submit</button>
    </form>
  </div>
{% endblock body %}
